function base64_encode(e){if("function"==typeof this.window.btoa)return btoa(unescape(encodeURIComponent(e)));var t,s,i,n,a,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=0,o=0,h="",p=[];if(!e)return e;do{t=(a=e.charCodeAt(c++)<<16|e.charCodeAt(c++)<<8|e.charCodeAt(c++))>>18&63,s=a>>12&63,i=a>>6&63,n=63&a,p[o++]=r.charAt(t)+r.charAt(s)+r.charAt(i)+r.charAt(n)}while(c<e.length);h=p.join("");var l=e.length%3;return(l?h.slice(0,l-3):h)+"===".slice(l||3)}!function(e){"undefined"!=typeof module&&"object"==typeof exports?"undefined"!=typeof window?module.exports=e():module.exports=e:window.clajax=e()}(function(root){var clajax=function(e){this.id=-1,this.form=e?e.form:null,this.action=e?e.action:null,this.method=e?e.method:null,this.url=e?e.url:null,this.json=e?e.json:null,this.xml=e?e.xml:null,this.mpart=e?e.mpart:null,this.target=e?e.target:null,this.responseType=e?e.responseType:null,this.asynchronous=!e||e.asynchronous,this.rel=e?e.rel:null,this.media=e?e.media:null,this.contentEncoding=e?e.contentEncoding:null,this.contentType=e?e.contentType:null,this.progressWait=e?e.progressWait:null,this.mimeType=e?e.mimeType:null,this.enlargeServerStatus=!!e&&(!!e.enlargeServerStatus&&e.enlargeServerStatus),this.start=e?e.start:null,this.success=e?e.success:null,this.ready=e?e.ready:null,this.fail=e?e.fail:null,this.error=e?e.error:null,this.finish=e?e.finish:null,this.timeout=e?e.timeout:null,this.base64=!!e&&(!!e.base64&&e.base64),this.asJson=!!e&&(!!e.asJson&&e.asJson),this.asXml=!!e&&(!!e.asXml&&e.asXml),this.asMpart=!!e&&(!!e.asMpart&&e.asMpart),this.asScript=!!e&&(!!e.asScript&&e.asScript),this.asCss=!!e&&(!!e.asCss&&e.asCss),this.opened=!!e&&(!!e.opened&&e.opened),this.compatibility=!!e&&(!!e.compatibility&&e.compatibility),this.http=null,this.acceptableStatus=e?e.acceptableStatus:[],this.acceptableReadyState=e?e.acceptableReadyState:[],this.requestHeaders=e?e.requestHeaders:[],this.extention=e&&e.extention?e.extention:{}};return clajax.prototype={clear:function(){return this.form=null,this.action=null,this.method=null,this.url=null,this.json=null,this.xml=null,this.mpart=null,this.target=null,this.responseType=null,this.asynchronous=!0,this.rel=null,this.media=null,this.contentEncoding=null,this.contentType=null,this.progressWait=null,this.mimeType=null,this.enlargeServerStatus=!1,this.start=null,this.success=null,this.ready=null,this.fail=null,this.error=null,this.finish=null,this.timeout=null,this.base64=!1,this.asJson=!1,this.asXml=!1,this.asMpart=!1,this.asScript=!1,this.asCss=!1,this.opened=!1,this.outer=!1,this.compatibility=!1,this.acceptableStatus=[],this.acceptableReadyState=[],this.requestHeaders=[],this.extention={},this},setForm:function(e){return this.form=e,this},setMethod:function(e){return this.method=e,this},setAction:function(e){return this.action=e,this},setUrl:function(e){return this.url=e,this},setJson:function(e){return this.json=e,this},setXml:function(e){return this.xml=e,this},setMpart:function(e){return this.mpart=e,this},setTarget:function(e){return this.target=e,this},setRel:function(e){return this.rel=e,this},setMedia:function(e){return this.media=e,this},setResponseType:function(e){return this.responseType=e,this},setAsynchronous:function(e){return this.asynchronous=e,this},setContentEncoding:function(e){return this.contentEncoding=e,this},setContentType:function(e){return this.contentType=e,this},setProgressWait:function(e){return this.progressWait=e,this},setMimeType:function(e){return this.mimeType=e,this},setEnlargeServerStatus:function(e){return this.enlargeServerStatus=e,this},setStart:function(e){return this.start=e,this},setSuccess:function(e){return this.success=e,this},setRedy:function(e){return this.ready=e,this},setReady:function(e){return this.ready=e,this},setFail:function(e){return this.fail=e,this},setError:function(e){return this.error=e,this},setFinish:function(e){return this.finish=e,this},setTimeout:function(e){return this.timeout=e,this},setBase64:function(e){return this.base64=e,this},setAsJson:function(e){return this.asJson=e,this},setAsXml:function(e){return this.asXml=e,this},setAsMpart:function(e){return this.asMpart=e,this},setAsScript:function(e){return this.asScript=e,this},setAsCss:function(e){return this.asCss=e,this},setOpened:function(e){return this.opened=e,this},setOuter:function(e){return this.outer=e,this},setCompatibility:function(e){return this.compatibility=e,this},setAcceptableStatus:function(e){return this.acceptableStatus=e,this},setAcceptableReadyState:function(e){return this.acceptableReadyState=e,this},setRequestHeaders:function(e){return this.requestHeaders=e,this},setExtention:function(e){return this.extention=e,this},setId:function(e){return this.id=e,this},extend:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);return this},instance:function(){return this.extention?Object.create(this).extend(this.extention).setId((new Date).getTime()):this},clone:function(){return this.extention?Object.create(this._clone()).extend(this.extention).setId((new Date).getTime()):this._clone().setId((new Date).getTime())},_clone:function(){return(new clajax).setForm(this.form).setMethod(this.method).setAction(this.action).setUrl(this.url).setJson(this.json).setXml(this.xml).setMpart(this.mpart).setTarget(this.target).setRel(this.rel).setMedia(this.media).setResponseType(this.responseType).setContentEncoding(this.contentEncoding).setContentType(this.contentType).setAsynchronous(this.asynchronous).setMimeType(this.mimeType).setEnlargeServerStatus(this.enlargeServerStatus).setStart(this.start).setSuccess(this.success).setRedy(this.ready).setReady(this.ready).setFail(this.fail).setError(this.error).setFinish(this.finish).setTimeout(this.timeout).setBase64(this.base64).setAsJson(this.asJson).setAsXml(this.asXml).setAsMpart(this.asMpart).setAsScript(this.asScript).setAsCss(this.asCss).setOpened(this.opened).setOuter(this.outer).setCompatibility(this.compatibility).setAcceptableStatus(this.acceptableStatus).setAcceptableReadyState(this.acceptableReadyState).setRequestHeaders(this.requestHeaders).setExtention(this.extention)},exception:function(e){var t=e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@").split("\n");console.log(t)},load:function(_url){if(_url&&(this.url=_url),0==this.asScript&&0==this.asCss&&this.url&&(this.url.lastIndexOf(".js")==this.url.length-3||this.url.indexOf(".js?")>-1?this.asScript=!0:(this.url.lastIndexOf(".css")==this.url.length-4||this.url.indexOf(".css?")>-1)&&(this.asCss=!0)),this.url&&this.asScript){var e=document.createElement("script");if(this.base64){var parameters=null;parameters=this.form?this.getParametersAsUrl(this.form,this.url):this.getParametersAsUrl(null,this.url),this.url.indexOf("?")>-1?e.src=this.url.substring(0,this.url.indexOf("?"))+parameters:e.src=this.url+parameters}else{var parameters=null;this.form&&(parameters=this.getParametersAsUrl(this.form,this.url)),e.src=parameters?this.url+parameters:this.url}this.contentType&&""!=this.contentType?e.type=this.contentType:e.type="text/javascript",this.rel&&""!=this.rel&&(e.rel=this.rel),this.contentEncoding&&""!=this.contentEncoding&&(e.charset=this.contentEncoding);var instance=this.clone();try{if(instance.success&&""!=instance.success)if("function"==typeof instance.success)e.onload=instance.success,e.onreadystatechange=function(){"complete"==this.readyState&&instance.success()};else{if("function"==typeof window[instance.success])e.onload=eval(instance.success+"()");else try{e.onload=eval(instance.success+"()")}catch(e){this.exception(e)}e.onreadystatechange=function(){if("complete"==this.readyState)if("function"==typeof window[instance.success])eval(instance.success+"()");else try{e.onload=eval(instance.success+"()")}catch(e){console.log(e)}}}}catch(e){this.exception(e)}try{document.getElementsByTagName("head")[0].appendChild(e)}catch(e){this.exception(e)}}if(this.url&&this.asCss){var e=document.createElement("link");if(this.base64){var parameters=this.getParametersAsUrl(null,this.url);parameters&&parameters.length>0?("&"==parameters.slice(-1)&&(parameters=parameters.slice(0,-1)),this.url.indexOf("?")>-1?e.href=this.url.substring(0,this.url.indexOf("?"))+parameters:e.href=this.url+parameters):e.href=this.url}else e.href=this.url;this.contentType&&""!=this.contentType?e.type=this.contentType:e.type="text/css",this.rel&&""!=this.rel?e.rel=rel:e.rel="stylesheet",this.media&&""!=this.media&&(e.media=this.media),this.contentEncoding&&""!=this.contentEncoding&&(e.charset=this.contentEncoding);var instance=this.clone();try{if(instance.success&&""!=instance.success)if("function"==typeof instance.success)e.onload=instance.success,e.onreadystatechange=function(){"complete"==this.readyState&&instance.success()};else{if("function"==typeof window[instance.success])e.onload=eval(instance.success+"()");else try{e.onload=eval(instance.success+"()")}catch(e){this.exception(e)}e.onreadystatechange=function(){if("complete"==this.readyState)if("function"==typeof window[instance.success])eval(instance.success+"()");else try{e.onload=eval(instance.success+"()")}catch(e){console.log(e)}}}}catch(e){this.exception(e)}try{document.getElementsByTagName("head")[0].appendChild(e)}catch(e){this.exception(e)}}return this},submit:function(e,t){return e&&(this.form=e),this.form&&(this.action=t||this.form.action,this.asJson?this.setUrl(this.action).setJson(this.getParametersAsJson(this.form,this.action)).request(this.form.method):this.asXml?this.setUrl(this.action).setXml(this.getParametersAsXml(this.form,this.action)).request(this.form.method):this.asMpart?this.setUrl(this.action).setMpart(this.getParametersAsMpart(this.form,this.action)).request(this.form.method):this.action.indexOf("?")>-1?this.setUrl(this.action.substring(0,this.action.indexOf("?")+1)+this.getParametersAsUrl(this.form,this.action)).request(this.form.method):this.setUrl(this.action+this.getParametersAsUrl(this.form,this.action)).request(this.form.method)),this},request:function(_method){_method&&""!=_method&&(this.method=_method);var urlOnly="",parametersOnly="",sendJson;if(0==this.asJson&&this.json&&(this.json.length>0||"object"==typeof this.json)?this.asJson=!0:0==this.asXml&&this.xml&&this.xml.length>0?this.asXml=!0:0==this.asMpart&&this.mpart&&(this.asMpart=!0),0==this.asJson&&0==this.asXml&&0==this.asMpart){if(this.url)if(this.url.indexOf("?")>-1){var pos=this.url.indexOf("?");urlOnly=this.url.substring(0,pos),parametersOnly=this.url.substring(pos+1)}else urlOnly=this.url;""!=parametersOnly&&(parametersOnly+="&"),this.base64?parametersOnly+="js4ajax="+base64_encode("true"):parametersOnly+="js4ajax=true"}else if(this.asJson){if(sendJson="object"==typeof this.json?this.json:JSON.parse(this.json),this.url)if(this.url.indexOf("?")>-1){var pos=this.url.indexOf("?");urlOnly=this.url.substring(0,pos);var urlParameters=this.url.substring(pos+1,this.url.length);if(urlParameters.length>0){urlParameters=decodeURIComponent(urlParameters);for(var chunks=urlParameters.split("&"),c=0;c<chunks.length;c++){var split=chunks[c].split("=",2);this.base64?sendJson[split[0]]=base64_encode(split[1]):sendJson[split[0]]=split[1]}}}else urlOnly=this.url;this.base64?sendJson.js4ajax=base64_encode("true"):sendJson.js4ajax="true"}else if(this.asXml)urlOnly=this.url;else if(this.asMpart){if(this.url)if(this.url.indexOf("?")>-1){var pos=this.url.indexOf("?");urlOnly=this.url.substring(0,pos);var urlParameters=this.url.substring(pos+1,this.url.length);if(urlParameters.length>0){urlParameters=decodeURIComponent(urlParameters);for(var chunks=urlParameters.split("&"),c=0;c<chunks.length;c++){var split=chunks[c].split("=",2);this.base64?this.mpart.append(split[0],base64_encode(split[1])):this.mpart.append(split[0],split[1])}}}else urlOnly=this.url;this.base64?this.mpart.append("js4ajax",base64_encode("true")):this.mpart.append("js4ajax","true")}if(this.start&&""!=this.start)if("function"==typeof this.start)this.start(this);else if("function"==typeof window[this.start])eval(this.start+"(this)");else try{eval(this.start+"(this)")}catch(e){this.exception(e)}if(this.target)try{this.progressWait&&""!=this.progressWait&&(this.target.innerHTML=this.progressWait)}catch(e){this.exception(e)}var http_request=!1,setResponseType=!1;if(this.http)http_request=this.http,this.opened=!0;else{if(window.ActiveXObject)try{http_request=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{http_request=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}if(window.XMLHttpRequest)if(http_request=new XMLHttpRequest,this.responseType&&""!=this.responseType)try{http_request.responseType=this.responseType,setResponseType=!0}catch(e){this.exception(e)}else http_request.overrideMimeType&&(this.mimeType&&""!=this.mimeType?http_request.overrideMimeType(this.mimeType):http_request.overrideMimeType("text/html"));this.http=http_request}if(http_request){var instance=this.clone();if(http_request.onreadystatechange=function(){try{var readyStateAccepted=!1,_facceptableStatus;if(4==http_request.readyState&&(readyStateAccepted=!0),instance.acceptableReadyState&&instance.acceptableReadyState.length>0){for(var acceptable=null,i=0;!acceptable&&i<instance.acceptableReadyState.length;)instance.acceptableReadyState[i].readyState==http_request.readyState&&(acceptable=instance.acceptableReadyState[i]),i++;if(!acceptable)for(i=0;!acceptable&&i<instance.acceptableReadyState.length;)-1==instance.acceptableReadyState[i].readyState&&(acceptable=instance.acceptableReadyState[i]),i++;acceptable&&(readyStateAccepted=!0,_facceptableStatus=acceptable.acceptableStatus)}if(readyStateAccepted){var statusAccepted=!1,_fready,_fsuccess,_ffail,_ffinish,_ferror;if(200==http_request.status?statusAccepted=!0:!instance.enlargeServerStatus||1!=instance.enlargeServerStatus||200!=http_request.status&&201!=http_request.status&&400!=http_request.status&&401!=http_request.status&&404!=http_request.status&&405!=http_request.status||(statusAccepted=!0),statusAccepted?(instance.ready&&""!=instance.ready&&(_fready=instance.ready),instance.success&&""!=instance.success&&(_fsuccess=instance.success),instance.fail&&""!=instance.fail&&(_ffail=instance.fail),instance.finish&&""!=instance.finish&&(_ffinish=instance.finish),instance.error&&""!=instance.error&&(_ferror=instance.error)):(instance.fail&&""!=instance.fail&&(_ffail=instance.fail),instance.finish&&""!=instance.finish&&(_ffinish=instance.finish),instance.error&&""!=instance.error&&(_ferror=instance.error)),_facceptableStatus&&_facceptableStatus.length>0||instance.acceptableStatus&&instance.acceptableStatus.length>0&&(_facceptableStatus=instance.acceptableStatus),_facceptableStatus&&_facceptableStatus.length>0){for(var acceptable=null,i=0;!acceptable&&i<_facceptableStatus.length;)_facceptableStatus[i].status==http_request.status&&(acceptable=_facceptableStatus[i]),i++;if(!acceptable)for(i=0;!acceptable&&i<_facceptableStatus.length;)-1==_facceptableStatus[i].status&&(acceptable=_facceptableStatus[i]),i++;acceptable&&(statusAccepted=!0,acceptable.ready&&""!=acceptable.ready?_fready=acceptable.ready:instance.ready&&""!=instance.ready&&(_fready=instance.ready),acceptable.success&&""!=acceptable.success?_fsuccess=acceptable.success:instance.success&&""!=instance.success&&(_fsuccess=instance.success),acceptable.fail&&""!=acceptable.fail?_ffail=acceptable.fail:instance.fail&&""!=instance.fail&&(_ffail=instance.fail),acceptable.finish&&""!=acceptable.finish?_ffinish=acceptable.finish:instance.finish&&""!=instance.finish&&(_ffinish=instance.finish),acceptable.error&&""!=acceptable.error?_ferror=acceptable.finish:instance.error&&""!=instance.error&&(_ferror=instance.error))}try{if(1==statusAccepted){if(_fready)if("function"==typeof _fready)instance.compatibility?_fready(http_request,instance.target?instance.target.id:null):_fready(http_request,instance);else if("function"==typeof window[_fready])instance.compatibility?eval(_fready+"(http_request,((instance.target)?instance.target.id:null))"):eval(_fready+"(http_request,instance)");else try{instance.compatibility?eval(_fready+"(http_request,((instance.target)?instance.target.id:null))"):eval(_fready+"(http_request,instance)")}catch(e){this.exception(e)}else instance.target&&(instance.outer?instance.target.outerHTML=http_request.responseText:instance.target.innerHTML=http_request.responseText);if(_fsuccess)if("function"==typeof _fsuccess)instance.compatibility?_fsuccess(http_request,instance.target?instance.target.id:null):_fsuccess(http_request,instance);else if("function"==typeof window[_fsuccess])instance.compatibility?eval(_fsuccess+"(http_request,((instance.target)?instance.target.id:null))"):eval(_fsuccess+"(http_request,instance)");else try{instance.compatibility?eval(_fsuccess+"(http_request,((instance.target)?instance.target.id:null))"):eval(_fsuccess+"(http_request,instance)")}catch(e){this.exception(e)}}else if(_ffail)if("function"==typeof _ffail)instance.compatibility?_ffail(http_request,instance.target?instance.target.id:null):_ffail(http_request,instance);else if("function"==typeof window[_ffail])instance.compatibility?eval(_ffail+"(http_request,((instance.target)?instance.target.id:null))"):eval(_ffail+"(http_request,instance)");else try{instance.compatibility?eval(_ffail+"(http_request,((instance.target)?instance.target.id:null))"):eval(_ffail+"(http_request,instance)")}catch(e){this.exception(e)}}catch(e){if(instance.exception(e),_ferror)if("function"==typeof _ferror)_ferror(http_request,e,e.toString(),instance);else if("function"==typeof window[_ferror])eval(_ferror+"(http_request, e, e.toString(), instance)");else try{eval(_ferror+"(http_request, e, e.toString(), instance)")}catch(e){this.exception(e)}else console.log("There was a generic problem with callback_function():"+e.toString())}if(_ffinish)if("function"==typeof _ffinish)instance.compatibility?_ffinish(http_request,instance.target?instance.target.id:null):_ffinish(http_request,instance);else if("function"==typeof window[_ffinish])instance.compatibility?eval(_ffinish+"(http_request,((instance.target)?instance.target.id:null))"):eval(_ffinish+"(http_request,instance)");else try{instance.compatibility?eval(_ffinish+"(http_request,((instance.target)?instance.target.id:null))"):eval(_ffinish+"(http_request,instance)")}catch(e){this.exception(e)}}}catch(e){if(instance.exception(e),instance.error&&""!=instance.error)if("function"==typeof instance.error)instance.error(http_request,e,e.toString(),instance);else if("function"==typeof window[instance.error])eval(instance.error+"(http_request, e, e.toString(), instance)");else try{eval(instance.error+"(http_request, e, e.toString(), instance)")}catch(e){this.exception(e)}else console.log("There was a generic problem with callback_function():"+e.toString())}},this.timeout&&""!=this.timeout&&(http_request.ontimeout=function(){if("function"==typeof instance.timeout)instance.compatibility?instance.timeout(http_request,this.target):instance.timeout(http_request,instance);else if("function"==typeof window[instance.timeout])instance.compatibility?eval(instance.timeout+"(http_request,((instance.target)?instance.target.id:null))"):eval(instance.timeout+"(http_request,instance)");else try{instance.compatibility?eval(instance.timeout+"(http_request,((instance.target)?instance.target.id:null))"):eval(instance.timeout+"(http_request,instance)")}catch(e){this.exception(e)}}),this.asynchronous||(this.asynchronous=!0),!this.opened){if(this.method&&""!=this.method?"GET"==this.method?http_request.open(this.method,this.url,this.asynchronous):http_request.open(this.method,urlOnly,this.asynchronous):http_request.open("POST",urlOnly,this.asynchronous),this.responseType&&""!=this.responseType&&0==setResponseType)try{http_request.responseType=this.responseType}catch(e){this.exception(e)}if(this.contentType&&""!=this.contentType?http_request.setRequestHeader("Content-type",this.contentType):this.asJson?http_request.setRequestHeader("Content-type","application/json"):this.asXml?http_request.setRequestHeader("Content-type","application/xml"):this.asMpart||http_request.setRequestHeader("Content-type","application/x-www-form-urlencoded"),this.contentEncoding&&""!=this.contentEncoding?http_request.setRequestHeader("Content-Encoding",this.contentEncoding):http_request.setRequestHeader("Content-Encoding","iso-8859-1"),this.requestHeaders&&this.requestHeaders.length>0)for(var i=0;i<this.requestHeaders.length;i++)try{http_request.setRequestHeader(this.requestHeaders[i].name,this.requestHeaders[i].value)}catch(e){this.exception(e)}}return 0==this.asJson&&0==this.asXml&&0==this.asMpart?http_request.send(parametersOnly):this.asJson?http_request.send(JSON.stringify(sendJson)):this.asXml?http_request.send(this.xml):this.asMpart&&http_request.send(this.mpart),instance}if(instance.error&&""!=instance.error)if("function"==typeof instance.error)instance.error(http_request,null,"Cannot create XMLHTTP instance");else if("function"==typeof window[instance.error])eval(instance.error+'(http_request, null, "Cannot create XMLHTTP instance")');else try{eval(instance.error+'(http_request, null, "Cannot create XMLHTTP instance")')}catch(e){this.exception(e)}else console.log("Cannot create XMLHTTP instance")},prepareUrl:function(e,t){return this.url=this.getParametersAsUrl(e,t),this},getParametersAsUrl:function(e,t){e||(e=this.form),t||(t=this.url);var s="";if(this.base64){if(s="?$inputBase64=true&",t.indexOf("?")>-1){var n=t.substring(t.indexOf("?")+1,t.length);if(n.length>0)for(var a=(n=decodeURIComponent(n)).split("&"),r=0;r<a.length;r++){var c=a[r].split("=",2);s+=c[0]+"="+encodeURIComponent(base64_encode(c[1]))+"&"}}}else s="?",t.indexOf("?")>-1&&(s="&");if(e)for(i=0;i<e.elements.length;i++){var o,h=e.elements[i];if(h.name&&""!=h.name?o=h.name:h.id&&""!=h.id&&(o=h.id),o&&-1==t.indexOf("?"+o+"=")&&-1==t.indexOf("&"+o+"=")&&("TEXT"!=h.type.toUpperCase()&&"COLOR"!=h.type.toUpperCase()&&"DATE"!=h.type.toUpperCase()&&"DATETIME-LOCAL"!=h.type.toUpperCase()&&"EMAIL"!=h.type.toUpperCase()&&"MONTH"!=h.type.toUpperCase()&&"NUMBER"!=h.type.toUpperCase()&&"RANGE"!=h.type.toUpperCase()&&"SEARCH"!=h.type.toUpperCase()&&"TEL"!=h.type.toUpperCase()&&"TIME"!=h.type.toUpperCase()&&"URL"!=h.type.toUpperCase()&&"WEEK"!=h.type.toUpperCase()&&"HIDDEN"!=h.type.toUpperCase()&&"PASSWORD"!=h.type.toUpperCase()||(this.base64?s+=o+"="+encodeURIComponent(base64_encode(h.value))+"&":s+=o+"="+encodeURIComponent(h.value)+"&"),"TEXTAREA"==h.type.toUpperCase()&&(this.base64?s+=o+"="+encodeURIComponent(base64_encode(h.value))+"&":s+=o+"="+encodeURIComponent(h.value)+"&"),"CHECKBOX"==h.type.toUpperCase()&&(h.checked?this.base64?s+=o+"="+encodeURIComponent(base64_encode(h.value))+"&":s+=o+"="+encodeURIComponent(h.value)+"&":(this.base64,s+=o+"=&")),"RADIO"==h.type.toUpperCase()&&h.checked&&(this.base64?s+=o+"="+encodeURIComponent(base64_encode(h.value))+"&":s+=o+"="+encodeURIComponent(h.value)+"&"),0==h.type.toUpperCase().indexOf("SELECT"))){var p=h;try{this.base64?s+=p.name+"="+encodeURIComponent(base64_encode(p.options[p.selectedIndex].value))+"&":s+=p.name+"="+encodeURIComponent(p.options[p.selectedIndex].value)+"&"}catch(e){this.exception(e)}}}return s},prepareJson:function(e,t){return this.json=this.getParametersAsJson(e,t),this},getParametersAsJson:function(e,t){var s;if(e||(e=this.form),t||(t=this.url),s=this.json?"object"==typeof this.json?this.json:JSON.parse(this.json):{},this.base64&&(s.$inputBase64="true"),t.indexOf("?")>-1){var n=t.substring(t.indexOf("?")+1,t.length);if(n.length>0)for(var a=(n=decodeURIComponent(n)).split("&"),r=0;r<a.length;r++){var c=a[r].split("=",2);this.base64?s[c[0]]=base64_encode(c[1]):s[c[0]]=c[1]}}try{for(i=0;i<e.elements.length;i++){var o,h=e.elements[i];if(h.name&&""!=h.name?o=h.name:h.id&&""!=h.id&&(o=h.id),o&&-1==t.indexOf("?"+o+"=")&&-1==t.indexOf("&"+o+"=")&&("TEXT"!=h.type.toUpperCase()&&"COLOR"!=h.type.toUpperCase()&&"DATE"!=h.type.toUpperCase()&&"DATETIME-LOCAL"!=h.type.toUpperCase()&&"EMAIL"!=h.type.toUpperCase()&&"MONTH"!=h.type.toUpperCase()&&"NUMBER"!=h.type.toUpperCase()&&"RANGE"!=h.type.toUpperCase()&&"SEARCH"!=h.type.toUpperCase()&&"TEL"!=h.type.toUpperCase()&&"TIME"!=h.type.toUpperCase()&&"URL"!=h.type.toUpperCase()&&"WEEK"!=h.type.toUpperCase()&&"HIDDEN"!=h.type.toUpperCase()&&"PASSWORD"!=h.type.toUpperCase()||(this.base64?s[o]=base64_encode(h.value):s[o]=h.value),"TEXTAREA"==h.type.toUpperCase()&&(this.base64?s[o]=base64_encode(h.value):s[o]=h.value),"CHECKBOX"==h.type.toUpperCase()&&(h.checked?this.base64?s[o]=base64_encode(h.value):s[o]=h.value:s[o]=""),"RADIO"==h.type.toUpperCase()&&h.checked&&(this.base64?s[o]=base64_encode(h.value):s[o]=h.value),0==h.type.toUpperCase().indexOf("SELECT"))){var p=h;try{this.base64?s[p.name]=base64_encode(p.options[p.selectedIndex].value):s[p.name]=p.options[p.selectedIndex].value}catch(e){this.exception(e)}}}}catch(e){this.exception(e)}return JSON.stringify(s)},prepareMpart:function(e,t){return this.mpart=this.getParametersAsMpart(e,t),this},getParametersAsMpart:function(e,t){if(window.FormData){var s;if(e||(e=this.form),t||(t=this.url),s=this.mpart?this.mpart:new FormData,this.base64&&s.append("$inputBase64","true"),t.indexOf("?")>-1){var n=t.substring(t.indexOf("?")+1,t.length);if(n.length>0)for(var a=(n=decodeURIComponent(n)).split("&"),r=0;r<a.length;r++){var c=a[r].split("=",2);this.base64?s.append(c[0],base64_encode(c[1])):s.append(c[0],c[1])}}try{for(i=0;i<e.elements.length;i++){var o,h=e.elements[i];if(h.name&&""!=h.name?o=h.name:h.id&&""!=h.id&&(o=h.id),o&&-1==t.indexOf("?"+o+"=")&&-1==t.indexOf("&"+o+"=")){if("TEXT"!=h.type.toUpperCase()&&"COLOR"!=h.type.toUpperCase()&&"DATE"!=h.type.toUpperCase()&&"DATETIME-LOCAL"!=h.type.toUpperCase()&&"EMAIL"!=h.type.toUpperCase()&&"MONTH"!=h.type.toUpperCase()&&"NUMBER"!=h.type.toUpperCase()&&"RANGE"!=h.type.toUpperCase()&&"SEARCH"!=h.type.toUpperCase()&&"TEL"!=h.type.toUpperCase()&&"TIME"!=h.type.toUpperCase()&&"URL"!=h.type.toUpperCase()&&"WEEK"!=h.type.toUpperCase()&&"HIDDEN"!=h.type.toUpperCase()&&"PASSWORD"!=h.type.toUpperCase()||(this.base64?s.append(o,base64_encode(h.value)):s.append(o,h.value)),"TEXTAREA"==h.type.toUpperCase()&&(this.base64?s.append(o,base64_encode(h.value)):s.append(o,h.value)),"CHECKBOX"==h.type.toUpperCase()&&(h.checked?this.base64?s.append(o,base64_encode(h.value)):s.append(o,h.value):s.append(o,"")),"RADIO"==h.type.toUpperCase()&&h.checked&&(this.base64?s.append(o,base64_encode(h.value)):s.append(o,h.value)),0==h.type.toUpperCase().indexOf("SELECT")){var p=h;try{this.base64?s.append(p.name,base64_encode(p.options[p.selectedIndex].value)):s.append(p.name,p.options[p.selectedIndex].value)}catch(e){this.exception(e)}}"FILE"==h.type.toUpperCase()&&s.append(o,h.files[0])}}}catch(e){this.exception(e)}return s}console.log("Features supported for object FormData (). Available in Chrome, FireFox, Safari, IE9...")}},clajax});