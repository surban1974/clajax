function base64_encode(t){if("function"==typeof this.window.btoa)return btoa(unescape(encodeURIComponent(t)));var e,s,n,i,a,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=0,h=0,o="",p=[];if(!t)return t;do{e=(a=t.charCodeAt(c++)<<16|t.charCodeAt(c++)<<8|t.charCodeAt(c++))>>18&63,s=a>>12&63,n=a>>6&63,i=63&a,p[h++]=r.charAt(e)+r.charAt(s)+r.charAt(n)+r.charAt(i)}while(c<t.length);o=p.join("");var l=t.length%3;return(l?o.slice(0,l-3):o)+"===".slice(l||3)}!function(t){"undefined"!=typeof module&&"object"==typeof exports?"undefined"!=typeof window?module.exports=t():module.exports=t:window.clajax=t()}(function(root){var clajax=function(t){this.id=-1,this.form=t?t.form:null,this.action=t?t.action:null,this.method=t?t.method:null,this.url=t?t.url:null,this.json=t?t.json:null,this.xml=t?t.xml:null,this.mpart=t?t.mpart:null,this.target=t?t.target:null,this.responseType=t?t.responseType:null,this.asynchronous=!t||t.asynchronous,this.rel=t?t.rel:null,this.media=t?t.media:null,this.contentEncoding=t?t.contentEncoding:null,this.contentType=t?t.contentType:null,this.progressWait=t?t.progressWait:null,this.mimeType=t?t.mimeType:null,this.enlargeServerStatus=!!t&&(!!t.enlargeServerStatus&&t.enlargeServerStatus),this.start=t?t.start:null,this.success=t?t.success:null,this.ready=t?t.ready:null,this.fail=t?t.fail:null,this.error=t?t.error:null,this.finish=t?t.finish:null,this.timeout=t?t.timeout:null,this.base64=!!t&&(!!t.base64&&t.base64),this.asJson=!!t&&(!!t.asJson&&t.asJson),this.asXml=!!t&&(!!t.asXml&&t.asXml),this.asMpart=!!t&&(!!t.asMpart&&t.asMpart),this.asScript=!!t&&(!!t.asScript&&t.asScript),this.asCss=!!t&&(!!t.asCss&&t.asCss),this.opened=!!t&&(!!t.opened&&t.opened),this.compatibility=!!t&&(!!t.compatibility&&t.compatibility),this.http=null,this.acceptableStatus=t?t.acceptableStatus:[],this.acceptableReadyState=t?t.acceptableReadyState:[],this.requestHeaders=t?t.requestHeaders:[],this.extention=t&&t.extention?t.extention:{}};return clajax.prototype={clear:function(){return this.form=null,this.action=null,this.method=null,this.url=null,this.json=null,this.xml=null,this.mpart=null,this.target=null,this.responseType=null,this.asynchronous=!0,this.rel=null,this.media=null,this.contentEncoding=null,this.contentType=null,this.progressWait=null,this.mimeType=null,this.enlargeServerStatus=!1,this.start=null,this.success=null,this.ready=null,this.fail=null,this.error=null,this.finish=null,this.timeout=null,this.base64=!1,this.asJson=!1,this.asXml=!1,this.asMpart=!1,this.asScript=!1,this.asCss=!1,this.opened=!1,this.compatibility=!1,this.acceptableStatus=[],this.acceptableReadyState=[],this.requestHeaders=[],this.extention={},this},setForm:function(t){return this.form=t,this},setMethod:function(t){return this.method=t,this},setAction:function(t){return this.action=t,this},setUrl:function(t){return this.url=t,this},setJson:function(t){return this.json=t,this},setXml:function(t){return this.xml=t,this},setMpart:function(t){return this.mpart=t,this},setTarget:function(t){return this.target=t,this},setRel:function(t){return this.rel=t,this},setMedia:function(t){return this.media=t,this},setResponseType:function(t){return this.responseType=t,this},setAsynchronous:function(t){return this.asynchronous=t,this},setContentEncoding:function(t){return this.contentEncoding=t,this},setContentType:function(t){return this.contentType=t,this},setMimeType:function(t){return this.mimeType=t,this},setEnlargeServerStatus:function(t){return this.enlargeServerStatus=t,this},setStart:function(t){return this.start=t,this},setSuccess:function(t){return this.success=t,this},setRedy:function(t){return this.ready=t,this},setReady:function(t){return this.ready=t,this},setFail:function(t){return this.fail=t,this},setError:function(t){return this.error=t,this},setFinish:function(t){return this.finish=t,this},setTimeout:function(t){return this.timeout=t,this},setBase64:function(t){return this.base64=t,this},setAsJson:function(t){return this.asJson=t,this},setAsXml:function(t){return this.asXml=t,this},setAsMpart:function(t){return this.asMpart=t,this},setAsScript:function(t){return this.asScript=t,this},setAsCss:function(t){return this.asCss=t,this},setOpened:function(t){return this.opened=t,this},setCompatibility:function(t){return this.compatibility=t,this},setAcceptableStatus:function(t){return this.acceptableStatus=t,this},setAcceptableReadyState:function(t){return this.acceptableReadyState=t,this},setRequestHeaders:function(t){return this.requestHeaders=t,this},setExtention:function(t){return this.extention=t,this},setId:function(t){return this.id=t,this},extend:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);return this},instance:function(){return this.extention?Object.create(this).extend(this.extention).setId((new Date).getTime()):this},clone:function(){return this.extention?Object.create(this._clone()).extend(this.extention).setId((new Date).getTime()):this._clone().setId((new Date).getTime())},_clone:function(){return(new clajax).setForm(this.form).setMethod(this.method).setAction(this.action).setUrl(this.url).setJson(this.json).setXml(this.xml).setMpart(this.mpart).setTarget(this.target).setRel(this.rel).setMedia(this.media).setResponseType(this.responseType).setContentEncoding(this.contentEncoding).setContentType(this.contentType).setAsynchronous(this.asynchronous).setMimeType(this.mimeType).setEnlargeServerStatus(this.enlargeServerStatus).setStart(this.start).setSuccess(this.success).setRedy(this.ready).setReady(this.ready).setFail(this.fail).setError(this.error).setFinish(this.finish).setTimeout(this.timeout).setBase64(this.base64).setAsJson(this.asJson).setAsXml(this.asXml).setAsMpart(this.asMpart).setAsScript(this.asScript).setAsCss(this.asCss).setOpened(this.opened).setCompatibility(this.compatibility).setAcceptableStatus(this.acceptableStatus).setAcceptableReadyState(this.acceptableReadyState).setRequestHeaders(this.requestHeaders).setExtention(this.extention)},exception:function(t){var e=t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@").split("\n");console.log(e)},load:function(_url){if(_url&&(this.url=_url),0==this.asScript&&0==this.asCss&&this.url&&(this.url.lastIndexOf(".js")==this.url.length-3||this.url.indexOf(".js?")>-1?this.asScript=!0:(this.url.lastIndexOf(".css")==this.url.length-4||this.url.indexOf(".css?")>-1)&&(this.asCss=!0)),this.url&&this.asScript){var e=document.createElement("script");if(this.base64){var parameters=null;parameters=this.form?this.getParametersAsUrl(this.form,this.url):this.getParametersAsUrl(null,this.url),this.url.indexOf("?")>-1?e.src=this.url.substring(0,this.url.indexOf("?"))+parameters:e.src=this.url+parameters}else e.src=this.url;this.contentType&&""!=this.contentType?e.type=this.contentType:e.type="text/javascript",this.rel&&""!=this.rel&&(e.rel=this.rel),this.contentEncoding&&""!=this.contentEncoding&&(e.charset=this.contentEncoding);var instance=this.clone();try{instance.success&&""!=instance.success&&("function"==typeof instance.success?(e.onload=instance.success,e.onreadystatechange=function(){"complete"==this.readyState&&instance.success()}):(e.onload=eval(instance.success+"()"),e.onreadystatechange=function(){"complete"==this.readyState&&eval(instance.success+"()")}))}catch(e){this.exception(e)}try{document.getElementsByTagName("head")[0].appendChild(e)}catch(e){this.exception(e)}}if(this.url&&this.asCss){var e=document.createElement("link");if(this.base64){var parameters=this.getParametersAsUrl(null,this.url);href.indexOf("?")>-1?e.href=this.url.substring(0,this.url.indexOf("?"))+parameters:e.href=this.url+parameters}else e.href=this.url;this.contentType&&""!=this.contentType?e.type=this.contentType:e.type="text/css",this.rel&&""!=this.rel?e.rel=rel:e.rel="stylesheet",this.media&&""!=this.media&&(e.media=this.media),this.contentEncoding&&""!=this.contentEncoding&&(e.charset=this.contentEncoding);var instance=this.clone();try{instance.success&&""!=instance.success&&("function"==typeof instance.success?(e.onload=instance.success,e.onreadystatechange=function(){"complete"==this.readyState&&instance.success()}):(e.onload=eval(instance.success+"()"),e.onreadystatechange=function(){"complete"==this.readyState&&eval(instance.success+"()")}))}catch(e){this.exception(e)}try{document.getElementsByTagName("head")[0].appendChild(e)}catch(e){this.exception(e)}}return this},submit:function(t,e){return t&&(this.form=t),this.form&&(this.action=e||this.form.action,this.asJson?this.setUrl(this.action).setJson(this.getParametersAsJson(this.form,this.action)).request(this.form.method):this.asXml?this.setUrl(this.action).setXml(this.getParametersAsXml(this.form,this.action)).request(this.form.method):this.asMpart?this.setUrl(this.action).setMpart(this.getParametersAsMpart(this.form,this.action)).request(this.form.method):this.action.indexOf("?")>-1?this.setUrl(this.action.substring(0,this.action.indexOf("?")+1)+this.getParametersAsUrl(this.form,this.action)).request(this.form.method):this.setUrl(this.action+this.getParametersAsUrl(this.form,this.action)).request(this.form.method)),this},request:function(_method){_method&&""!=_method&&(this.method=_method);var urlOnly="",parametersOnly="",sendJson;if(0==this.asJson&&this.json&&(this.json.length>0||"object"==typeof this.json)?this.asJson=!0:0==this.asXml&&this.xml&&this.xml.length>0?this.asXml=!0:0==this.asMpart&&this.mpart&&(this.asMpart=!0),0==this.asJson&&0==this.asXml&&0==this.asMpart){if(this.url)if(this.url.indexOf("?")>-1){var pos=this.url.indexOf("?");urlOnly=this.url.substring(0,pos),parametersOnly=this.url.substring(pos+1)}else urlOnly=this.url;""!=parametersOnly&&(parametersOnly+="&"),this.base64?parametersOnly+="js4ajax="+base64_encode("true"):parametersOnly+="js4ajax=true"}else if(this.asJson){if(sendJson="object"==typeof this.json?this.json:JSON.parse(this.json),this.url)if(this.url.indexOf("?")>-1){var pos=this.url.indexOf("?");urlOnly=this.url.substring(0,pos);var urlParameters=this.url.substring(pos+1,this.url.length);if(urlParameters.length>0){urlParameters=decodeURIComponent(urlParameters);for(var chunks=urlParameters.split("&"),c=0;c<chunks.length;c++){var split=chunks[c].split("=",2);this.base64?sendJson[split[0]]=base64_encode(split[1]):sendJson[split[0]]=split[1]}}}else urlOnly=this.url;this.base64?sendJson.js4ajax=base64_encode("true"):sendJson.js4ajax="true"}else if(this.asXml)urlOnly=this.url;else if(this.asMpart){if(this.url)if(this.url.indexOf("?")>-1){var pos=this.url.indexOf("?");urlOnly=this.url.substring(0,pos);var urlParameters=this.url.substring(pos+1,this.url.length);if(urlParameters.length>0){urlParameters=decodeURIComponent(urlParameters);for(var chunks=urlParameters.split("&"),c=0;c<chunks.length;c++){var split=chunks[c].split("=",2);this.base64?this.mpart.append(split[0],base64_encode(split[1])):this.mpart.append(split[0],split[1])}}}else urlOnly=this.url;this.base64?this.mpart.append("js4ajax",base64_encode("true")):this.mpart.append("js4ajax","true")}if(this.start&&""!=this.start&&("function"==typeof this.start?this.start(this):eval(this.start+"(this)")),this.target)try{this.progressWait&&""!=this.progressWait&&(this.target.innerHTML=this.progressWait)}catch(t){this.exception(t)}var http_request=!1,setResponseType=!1;if(this.http)http_request=this.http,this.opened=!0;else{if(window.ActiveXObject)try{http_request=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{http_request=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}if(window.XMLHttpRequest)if(http_request=new XMLHttpRequest,this.responseType&&""!=this.responseType)try{http_request.responseType=this.responseType,setResponseType=!0}catch(t){this.exception(t)}else http_request.overrideMimeType&&(this.mimeType&&""!=this.mimeType?http_request.overrideMimeType(this.mimeType):http_request.overrideMimeType("text/html"));this.http=http_request}if(http_request){var instance=this.clone();if(http_request.onreadystatechange=function(){try{var readyStateAccepted=!1,_facceptableStatus;if(4==http_request.readyState&&(readyStateAccepted=!0),instance.acceptableReadyState&&instance.acceptableReadyState.length>0){for(var acceptable=null,i=0;!acceptable&&i<instance.acceptableReadyState.length;)instance.acceptableReadyState[i].readyState==http_request.readyState&&(acceptable=instance.acceptableReadyState[i]),i++;if(!acceptable)for(i=0;!acceptable&&i<instance.acceptableReadyState.length;)-1==instance.acceptableReadyState[i].readyState&&(acceptable=instance.acceptableReadyState[i]),i++;acceptable&&(readyStateAccepted=!0,_facceptableStatus=acceptable.acceptableStatus)}if(readyStateAccepted){var statusAccepted=!1,_fready,_fsuccess,_ffail,_ffinish,_ferror;if(200==http_request.status?statusAccepted=!0:!instance.enlargeServerStatus||1!=instance.enlargeServerStatus||200!=http_request.status&&201!=http_request.status&&400!=http_request.status&&401!=http_request.status&&404!=http_request.status&&405!=http_request.status||(statusAccepted=!0),statusAccepted?(instance.ready&&""!=instance.ready&&(_fready=instance.ready),instance.success&&""!=instance.success&&(_fsuccess=instance.success),instance.fail&&""!=instance.fail&&(_ffail=instance.fail),instance.finish&&""!=instance.finish&&(_ffinish=instance.finish),instance.error&&""!=instance.error&&(_ferror=instance.error)):(instance.fail&&""!=instance.fail&&(_ffail=instance.fail),instance.finish&&""!=instance.finish&&(_ffinish=instance.finish),instance.error&&""!=instance.error&&(_ferror=instance.error)),_facceptableStatus&&_facceptableStatus.length>0||instance.acceptableStatus&&instance.acceptableStatus.length>0&&(_facceptableStatus=instance.acceptableStatus),_facceptableStatus&&_facceptableStatus.length>0){for(var acceptable=null,i=0;!acceptable&&i<_facceptableStatus.length;)_facceptableStatus[i].status==http_request.status&&(acceptable=_facceptableStatus[i]),i++;if(!acceptable)for(i=0;!acceptable&&i<_facceptableStatus.length;)-1==_facceptableStatus[i].status&&(acceptable=_facceptableStatus[i]),i++;acceptable&&(statusAccepted=!0,acceptable.ready&&""!=acceptable.ready?_fready=acceptable.ready:instance.ready&&""!=instance.ready&&(_fready=instance.ready),acceptable.success&&""!=acceptable.success?_fsuccess=acceptable.success:instance.success&&""!=instance.success&&(_fsuccess=instance.success),acceptable.fail&&""!=acceptable.fail?_ffail=acceptable.fail:instance.fail&&""!=instance.fail&&(_ffail=instance.fail),acceptable.finish&&""!=acceptable.finish?_ffinish=acceptable.finish:instance.finish&&""!=instance.finish&&(_ffinish=instance.finish),acceptable.error&&""!=acceptable.error?_ferror=acceptable.finish:instance.error&&""!=instance.error&&(_ferror=instance.error))}try{1==statusAccepted?(_fready?"function"==typeof _fready?instance.compatibility?_fready(http_request,instance.target?instance.target.id:null):_fready(http_request,instance):instance.compatibility?eval(_fready+"(http_request,((instance.target)?instance.target.id:null))"):eval(_fready+"(http_request,instance)"):instance.target&&(instance.target.innerHTML=http_request.responseText),_fsuccess&&("function"==typeof _fsuccess?instance.compatibility?_fsuccess(http_request,instance.target?instance.target.id:null):_fsuccess(http_request,instance):instance.compatibility?eval(_fsuccess+"(http_request,((instance.target)?instance.target.id:null))"):eval(_fsuccess+"(http_request,instance)"))):_ffail&&("function"==typeof _ffail?instance.compatibility?_ffail(http_request,instance.target?instance.target.id:null):_ffail(http_request,instance):instance.compatibility?eval(_ffail+"(http_request,((instance.target)?instance.target.id:null))"):eval(_ffail+"(http_request,instance)"))}catch(e){instance.exception(e),_ferror?"function"==typeof _ferror?_ferror(http_request,e,e.toString(),instance):eval(_ferror+"(http_request, e, e.toString(), instance)"):alert("There was a generic problem with callback_function():"+e.toString())}_ffinish&&("function"==typeof _ffinish?instance.compatibility?_ffinish(http_request,instance.target?instance.target.id:null):_ffinish(http_request,instance):instance.compatibility?eval(_ffinish+"(http_request,((instance.target)?instance.target.id:null))"):eval(_ffinish+"(http_request,instance)"))}}catch(e){instance.exception(e),instance.error&&""!=instance.error?"function"==typeof instance.error?instance.error(http_request,e,e.toString(),instance):eval(instance.error+"(http_request, e, e.toString(), instance)"):alert("There was a generic problem with callback_function():"+e.toString())}},this.timeout&&""!=this.timeout&&(http_request.ontimeout=function(){"function"==typeof instance.timeout?instance.compatibility?instance.timeout(http_request,this.target):instance.timeout(http_request,instance):instance.compatibility?eval(instance.timeout+"(http_request,((instance.target)?instance.target.id:null))"):eval(instance.timeout+"(http_request,instance)")}),this.asynchronous||(this.asynchronous=!0),!this.opened){if(this.method&&""!=this.method?"GET"==this.method?http_request.open(this.method,this.url,this.asynchronous):http_request.open(this.method,urlOnly,this.asynchronous):http_request.open("POST",urlOnly,this.asynchronous),this.responseType&&""!=this.responseType&&0==setResponseType)try{http_request.responseType=this.responseType}catch(t){this.exception(t)}if(this.contentType&&""!=this.contentType?http_request.setRequestHeader("Content-type",this.contentType):this.asJson?http_request.setRequestHeader("Content-type","application/json"):this.asXml?http_request.setRequestHeader("Content-type","application/xml"):this.asMpart||http_request.setRequestHeader("Content-type","application/x-www-form-urlencoded"),this.contentEncoding&&""!=this.contentEncoding?http_request.setRequestHeader("Content-Encoding",this.contentEncoding):http_request.setRequestHeader("Content-Encoding","iso-8859-1"),this.requestHeaders&&this.requestHeaders.length>0)for(var i=0;i<this.requestHeaders.length;i++)try{http_request.setRequestHeader(this.requestHeaders[i].name,this.requestHeaders[i].value)}catch(t){this.exception(t)}}return 0==this.asJson&&0==this.asXml&&0==this.asMpart?http_request.send(parametersOnly):this.asJson?http_request.send(JSON.stringify(sendJson)):this.asXml?http_request.send(this.xml):this.asMpart&&http_request.send(this.mpart),instance}instance.error&&""!=instance.error?"function"==typeof instance.error?instance.error(http_request,null,"Cannot create XMLHTTP instance"):eval(instance.error+'(http_request, null, "Cannot create XMLHTTP instance")'):alert("Cannot create XMLHTTP instance")},prepareUrl:function(t,e){return this.url=this.getParametersAsUrl(t,e),this},getParametersAsUrl:function(t,e){t||(t=this.form),e||(e=this.url);var s="";if(this.base64){if(s="?$inputBase64=true&",e.indexOf("?")>-1){var n=e.substring(e.indexOf("?")+1,e.length);if(n.length>0)for(var a=(n=decodeURIComponent(n)).split("&"),r=0;r<a.length;r++){var c=a[r].split("=",2);s+=c[0]+"="+encodeURIComponent(base64_encode(c[1]))+"&"}}}else s="?",e.indexOf("?")>-1&&(s="&");if(t)for(i=0;i<t.elements.length;i++){var h,o=t.elements[i];if(o.name&&""!=o.name?h=o.name:o.id&&""!=o.id&&(h=o.id),h&&-1==e.indexOf("?"+h+"=")&&-1==e.indexOf("&"+h+"=")&&("TEXT"!=o.type.toUpperCase()&&"COLOR"!=o.type.toUpperCase()&&"DATE"!=o.type.toUpperCase()&&"DATETIME-LOCAL"!=o.type.toUpperCase()&&"EMAIL"!=o.type.toUpperCase()&&"MONTH"!=o.type.toUpperCase()&&"NUMBER"!=o.type.toUpperCase()&&"RANGE"!=o.type.toUpperCase()&&"SEARCH"!=o.type.toUpperCase()&&"TEL"!=o.type.toUpperCase()&&"TIME"!=o.type.toUpperCase()&&"URL"!=o.type.toUpperCase()&&"WEEK"!=o.type.toUpperCase()&&"HIDDEN"!=o.type.toUpperCase()&&"PASSWORD"!=o.type.toUpperCase()||(this.base64?s+=h+"="+encodeURIComponent(base64_encode(o.value))+"&":s+=h+"="+encodeURIComponent(o.value)+"&"),"TEXTAREA"==o.type.toUpperCase()&&(this.base64?s+=h+"="+encodeURIComponent(base64_encode(o.value))+"&":s+=h+"="+encodeURIComponent(o.value)+"&"),"CHECKBOX"==o.type.toUpperCase()&&(o.checked?this.base64?s+=h+"="+encodeURIComponent(base64_encode(o.value))+"&":s+=h+"="+encodeURIComponent(o.value)+"&":(this.base64,s+=h+"=&")),"RADIO"==o.type.toUpperCase()&&o.checked&&(this.base64?s+=h+"="+encodeURIComponent(base64_encode(o.value))+"&":s+=h+"="+encodeURIComponent(o.value)+"&"),0==o.type.toUpperCase().indexOf("SELECT"))){var p=o;try{this.base64?s+=p.name+"="+encodeURIComponent(base64_encode(p.options[p.selectedIndex].value))+"&":s+=p.name+"="+encodeURIComponent(p.options[p.selectedIndex].value)+"&"}catch(t){this.exception(t)}}}return s},prepareJson:function(t,e){return this.json=this.getParametersAsJson(t,e),this},getParametersAsJson:function(t,e){var s;if(t||(t=this.form),e||(e=this.url),s=this.json?"object"==typeof this.json?this.json:JSON.parse(this.json):{},this.base64&&(s.$inputBase64="true"),e.indexOf("?")>-1){var n=e.substring(e.indexOf("?")+1,e.length);if(n.length>0)for(var a=(n=decodeURIComponent(n)).split("&"),r=0;r<a.length;r++){var c=a[r].split("=",2);this.base64?s[c[0]]=base64_encode(c[1]):s[c[0]]=c[1]}}try{for(i=0;i<t.elements.length;i++){var h,o=t.elements[i];if(o.name&&""!=o.name?h=o.name:o.id&&""!=o.id&&(h=o.id),h&&-1==e.indexOf("?"+h+"=")&&-1==e.indexOf("&"+h+"=")&&("TEXT"!=o.type.toUpperCase()&&"COLOR"!=o.type.toUpperCase()&&"DATE"!=o.type.toUpperCase()&&"DATETIME-LOCAL"!=o.type.toUpperCase()&&"EMAIL"!=o.type.toUpperCase()&&"MONTH"!=o.type.toUpperCase()&&"NUMBER"!=o.type.toUpperCase()&&"RANGE"!=o.type.toUpperCase()&&"SEARCH"!=o.type.toUpperCase()&&"TEL"!=o.type.toUpperCase()&&"TIME"!=o.type.toUpperCase()&&"URL"!=o.type.toUpperCase()&&"WEEK"!=o.type.toUpperCase()&&"HIDDEN"!=o.type.toUpperCase()&&"PASSWORD"!=o.type.toUpperCase()||(this.base64?s[h]=base64_encode(o.value):s[h]=o.value),"TEXTAREA"==o.type.toUpperCase()&&(this.base64?s[h]=base64_encode(o.value):s[h]=o.value),"CHECKBOX"==o.type.toUpperCase()&&(o.checked?this.base64?s[h]=base64_encode(o.value):s[h]=o.value:s[h]=""),"RADIO"==o.type.toUpperCase()&&o.checked&&(this.base64?s[h]=base64_encode(o.value):s[h]=o.value),0==o.type.toUpperCase().indexOf("SELECT"))){var p=o;try{this.base64?s[p.name]=base64_encode(p.options[p.selectedIndex].value):s[p.name]=p.options[p.selectedIndex].value}catch(t){this.exception(t)}}}}catch(t){this.exception(t)}return JSON.stringify(s)},prepareMpart:function(t,e){return this.mpart=this.getParametersAsMpart(t,e),this},getParametersAsMpart:function(t,e){if(window.FormData){var s;if(t||(t=this.form),e||(e=this.url),s=this.mpart?this.mpart:new FormData,this.base64&&s.append("$inputBase64","true"),e.indexOf("?")>-1){var n=e.substring(e.indexOf("?")+1,e.length);if(n.length>0)for(var a=(n=decodeURIComponent(n)).split("&"),r=0;r<a.length;r++){var c=a[r].split("=",2);this.base64?s.append(c[0],base64_encode(c[1])):s.append(c[0],c[1])}}try{for(i=0;i<t.elements.length;i++){var h,o=t.elements[i];if(o.name&&""!=o.name?h=o.name:o.id&&""!=o.id&&(h=o.id),h&&-1==e.indexOf("?"+h+"=")&&-1==e.indexOf("&"+h+"=")){if("TEXT"!=o.type.toUpperCase()&&"COLOR"!=o.type.toUpperCase()&&"DATE"!=o.type.toUpperCase()&&"DATETIME-LOCAL"!=o.type.toUpperCase()&&"EMAIL"!=o.type.toUpperCase()&&"MONTH"!=o.type.toUpperCase()&&"NUMBER"!=o.type.toUpperCase()&&"RANGE"!=o.type.toUpperCase()&&"SEARCH"!=o.type.toUpperCase()&&"TEL"!=o.type.toUpperCase()&&"TIME"!=o.type.toUpperCase()&&"URL"!=o.type.toUpperCase()&&"WEEK"!=o.type.toUpperCase()&&"HIDDEN"!=o.type.toUpperCase()&&"PASSWORD"!=o.type.toUpperCase()||(this.base64?s.append(h,base64_encode(o.value)):s.append(h,o.value)),"TEXTAREA"==o.type.toUpperCase()&&(this.base64?s.append(h,base64_encode(o.value)):s.append(h,o.value)),"CHECKBOX"==o.type.toUpperCase()&&(o.checked?this.base64?s.append(h,base64_encode(o.value)):s.append(h,o.value):s.append(h,"")),"RADIO"==o.type.toUpperCase()&&o.checked&&(this.base64?s.append(h,base64_encode(o.value)):s.append(h,o.value)),0==o.type.toUpperCase().indexOf("SELECT")){var p=o;try{this.base64?s.append(p.name,base64_encode(p.options[p.selectedIndex].value)):s.append(p.name,p.options[p.selectedIndex].value)}catch(t){this.exception(t)}}"FILE"==o.type.toUpperCase()&&s.append(h,o.files[0])}}}catch(t){this.exception(t)}return s}alert("Features supported for object FormData (). Available in Chrome, FireFox, Safari, IE9...")}},clajax});